<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.28b715d0c0238008b3e5.css" id="gatsby-global-css">:root{--reach-skip-nav:1}[data-reach-skip-nav-link]{border:0;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute}[data-reach-skip-nav-link]:focus{padding:1rem;position:fixed;top:10px;left:10px;background:#fff;z-index:1;width:auto;height:auto;clip:auto}</style><meta name="generator" content="Gatsby 2.30.1"/><title data-react-helmet="true">Run Unity Android Build on Android in Docker | ozbe</title><meta data-react-helmet="true" name="description" content="Steps to run a Unity Android Build (APK) on Android (Anbox) in Docker ( AinD ) on a Mac. Running Android builds in Docker can be tool for…"/><meta data-react-helmet="true" property="og:title" content="Run Unity Android Build on Android in Docker"/><meta data-react-helmet="true" property="og:description" content="Steps to run a Unity Android Build (APK) on Android (Anbox) in Docker ( AinD ) on a Mac. Running Android builds in Docker can be tool for…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:creator" content="Josh Aaseby"/><meta data-react-helmet="true" name="twitter:title" content="Run Unity Android Build on Android in Docker"/><meta data-react-helmet="true" name="twitter:description" content="Steps to run a Unity Android Build (APK) on Android (Anbox) in Docker ( AinD ) on a Mac. Running Android builds in Docker can be tool for…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-25d235bc2401c325ecef.js"/><link as="script" rel="preload" href="/styles-9411612e31e4f14527d1.js"/><link as="script" rel="preload" href="/framework-3e6dec6139dadaa7d0c7.js"/><link as="script" rel="preload" href="/app-01f6ee536d0106556fae.js"/><link as="script" rel="preload" href="/commons-380a30ce5f5e42c12471.js"/><link as="script" rel="preload" href="/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-54da6afa203fb26fe3d9.js"/><link as="fetch" rel="preload" href="/page-data/run-unity-android-build-on-android-in-docker/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090755652.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/386998304.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/764694655.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="9hecd0">body{color:#000;background-color:#fff;}</style><style data-emotion-css="1fthmpb">*{box-sizing:border-box;}body{margin:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;line-height:1.5;font-weight:400;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1a73ng7">.css-1a73ng7{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;line-height:1.5;font-weight:400;}</style><div class="css-1a73ng7"><header><style data-emotion-css="1ufxd81">.css-1ufxd81{max-width:672px;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;padding-top:32px;}</style><div class="css-1ufxd81"><style data-emotion-css="4c94nt">.css-4c94nt{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:32px;}</style><div class="css-4c94nt"><style data-emotion-css="1qd1r5f">.css-1qd1r5f{margin-top:0;margin-bottom:0;}</style><style data-emotion-css="t7wkbv">.css-t7wkbv{color:var(--theme-ui-colors-text,#000);font-family:inherit;line-height:1.125;font-weight:700;font-size:20px;margin-top:0;margin-bottom:0;}</style><p class="css-t7wkbv"><style data-emotion-css="lu49n7">.css-lu49n7{box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-primary,#07c);}</style><style data-emotion-css="1d0kooh">.css-1d0kooh{color:var(--theme-ui-colors-primary,#07c);box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:var(--theme-ui-colors-primary,#07c);}</style><a class="css-1d0kooh" href="/">ozbe</a></p></div></div></header><div id="reach-skip-nav" data-reach-skip-nav-content=""></div><div><style data-emotion-css="4u3j6r">.css-4u3j6r{max-width:672px;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;padding-bottom:32px;}</style><div class="css-4u3j6r"><main><article><header><style data-emotion-css="j9bg4">.css-j9bg4{color:var(--theme-ui-colors-text,#000);font-family:inherit;line-height:1.125;font-weight:700;font-size:32px;}</style><h1 class="css-j9bg4">Run Unity Android Build on Android in Docker</h1><style data-emotion-css="1h1xv8c">.css-1h1xv8c{font-size:14px;margin-top:-16px;margin-bottom:16px;}</style><style data-emotion-css="12skgw4">.css-12skgw4{color:var(--theme-ui-colors-text,#000);font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;font-weight:400;line-height:1.5;font-size:14px;margin-top:-16px;margin-bottom:16px;}</style><p class="css-12skgw4">January 15, 2021</p></header><section><style data-emotion-css="h0e33p">.css-h0e33p{color:var(--theme-ui-colors-text,#000);font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;font-weight:400;line-height:1.5;}</style><p class="css-h0e33p">Steps to run a Unity Android Build (APK) on Android (Anbox) in Docker (<style data-emotion-css="1qljzjn">.css-1qljzjn{color:var(--theme-ui-colors-primary,#07c);}</style><a href="https://github.com/aind-containers/aind" class="css-1qljzjn">AinD</a>) on a Mac. Running Android builds in Docker can be tool for testing locally and adapted to running in the cloud. </p><blockquote class="css-0"><p class="css-h0e33p">PRO TIP Remember, while virtualization has its use cases, it is not an absolute substitute for testing on actual hardware. Put another way, if you don’t test on the actual device you’re going to release on, you’re probably going to have a bad time.  </p></blockquote><blockquote class="css-0"><p class="css-h0e33p">DISCLAIMER I formerly worked at Unity. While I no longer work there, I still have a vested interest in their success.</p></blockquote><style data-emotion-css="12datf4">.css-12datf4{color:var(--theme-ui-colors-text,#000);font-family:inherit;line-height:1.125;font-weight:700;font-size:24px;}</style><style data-emotion-css="10cps2a">.css-10cps2a{pointer-events:painted;color:var(--theme-ui-colors-text,#000);font-family:inherit;line-height:1.125;font-weight:700;font-size:24px;}.css-10cps2a a{visibility:hidden;}.css-10cps2a:hover a{visibility:visible;}</style><h2 id="overview" class="css-10cps2a"><style data-emotion-css="1xo505e">.css-1xo505e{margin-left:-20px;padding-right:4px;color:var(--theme-ui-colors-primary,#07c);}</style><a href="#overview" aria-label="Overview" class="css-1xo505e"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overview</h2><ol class="css-0"><li class="css-0"><a href="#prereqs" class="css-1qljzjn">Prereqs</a></li><li class="css-0"><a href="#build-unity-project" class="css-1qljzjn">Build Unity Project</a></li><li class="css-0"><a href="#start-aind" class="css-1qljzjn">Start AinD</a></li><li class="css-0"><a href="#run-unity-build-apk" class="css-1qljzjn">Run Unity Build (APK)</a></li><li class="css-0"><a href="#shutdown" class="css-1qljzjn">Shutdown</a></li><li class="css-0"><a href="#cleanup" class="css-1qljzjn">Cleanup</a></li></ol><h2 id="prereqs" class="css-10cps2a"><a href="#prereqs" aria-label="Prereqs" class="css-1xo505e"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prereqs</h2><ul class="css-0"><li class="css-0">Clone <em class="css-0">the</em> project <a href="https://github.com/ozbe/aind-unity-poc" class="css-1qljzjn">GitHub - ozbe/aind-unity-poc: Steps to run a Unity Android Build in Android in Docker (AinD) on a Mac.</a></li><li class="css-0"><a href="https://unity3d.com/get-unity/download" class="css-1qljzjn">Unity</a> with Android Build Support - Tested with version 2018.4.30f1 (LTS)</li></ul><blockquote class="css-0"><p class="css-h0e33p">NOTE You may think you’re going to use 2019.3+ for this walkthrough, don’t. It looks  support for x86 was dropped in 2019.3  in favor of ARM64. Source: <a href="https://blogs.unity3d.com/2019/03/05/android-support-update-64-bit-and-app-bundles-backported-to-2017-4-lts/" class="css-1qljzjn">Android Support Update: 64 bit and App Bundles Backported to 2017.4 LTSUnity 2017.4 LTS  - Unity Technologies Blog</a>.   </p></blockquote><ul class="css-0"><li class="css-0"><a href="https://www.virtualbox.org/wiki/Downloads" class="css-1qljzjn">VirtualBox</a> - Tested with version 6.1.16</li><li class="css-0"><a href="https://www.vagrantup.com/downloads.html" class="css-1qljzjn">Vagrant</a> - Tested with version 2.2.14</li><li class="css-0"><a href="https://developer.android.com/studio/" class="css-1qljzjn">Android Studio </a> - Tested with version </li><li class="css-0"><a href="https://www.realvnc.com/en/connect/download/viewer/" class="css-1qljzjn">VNC Viewer</a> - Tested with version 6.20.817</li></ul><h2 id="build-unity-project" class="css-10cps2a"><a href="#build-unity-project" aria-label="Build Unity Project" class="css-1xo505e"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Build Unity Project</h2><p class="css-h0e33p">The example Unity project shows a rotating cube on the screen for approximately 2 seconds and then exits. </p><p class="css-h0e33p">To an Android build of the project, follow the following steps, from the project root</p><ol class="css-0"><li class="css-0">Open Unity project <code class="css-0">./RotatingCube</code></li><li class="css-0"><code class="css-0">File</code> &gt; <code class="css-0">Build Settings</code></li><li class="css-0"><code class="css-0">Android</code></li><li class="css-0">Use all defaults</li><li class="css-0"><code class="css-0">Build</code></li><li class="css-0">Save APK as <code class="css-0">./apk.d/rotatingcube.apk</code></li></ol><p class="css-h0e33p">We now have a build file (APK) that we can run with AinD.</p><h2 id="start-aind" class="css-10cps2a"><a href="#start-aind" aria-label="Start AinD" class="css-1xo505e"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Start AinD</h2><p class="css-h0e33p">AinD requires some modules that are not available on macOS. To overcome these shortcomings, we will run AinD in an Ubuntu VM (Ubuntu being the version AinD’s author has tested AinD on).</p><p class="css-h0e33p">To simplify creating and provisioning the VM, the project provides a <code class="css-0">Vagrantfile</code> to do the heavy lifting for us.</p><p class="css-h0e33p">In a terminal, at the project root., start the VM</p><style data-emotion-css="vm6h8e">.css-vm6h8e{font-family:Menlo,monospace;overflow-x:auto;color:#393A34;background-color:#f6f8fa;}.css-vm6h8e code{color:inherit;}.css-vm6h8e .comment,.css-vm6h8e .prolog,.css-vm6h8e .doctype,.css-vm6h8e .cdata{color:#999988;font-style:italic;}.css-vm6h8e .namespace{opacity:0.7;}.css-vm6h8e .string,.css-vm6h8e .attr-value{color:#e3116c;}.css-vm6h8e .punctuation,.css-vm6h8e .operator{color:#393A34;}.css-vm6h8e .entity,.css-vm6h8e .url,.css-vm6h8e .symbol,.css-vm6h8e .number,.css-vm6h8e .boolean,.css-vm6h8e .variable,.css-vm6h8e .constant,.css-vm6h8e .property,.css-vm6h8e .regex,.css-vm6h8e .inserted{color:#36acaa;}.css-vm6h8e .atrule,.css-vm6h8e .keyword,.css-vm6h8e .attr-name,.css-vm6h8e .selector{color:#00a4db;}.css-vm6h8e .function,.css-vm6h8e .deleted,.css-vm6h8e .tag{color:#d73a49;}.css-vm6h8e .function-variable{color:#6f42c1;}.css-vm6h8e .tag,.css-vm6h8e .selector,.css-vm6h8e .keyword{color:#00009f;}.css-vm6h8e .highlight{background:hsla(0,0%,70%,.5);}</style><style data-emotion-css="1q7q4hh">.css-1q7q4hh{font-family:Menlo,monospace;font-size:inherit;}</style><style data-emotion-css="1e94kr5">.css-1e94kr5{font-family:Menlo,monospace;overflow-x:auto;color:#393A34;background-color:#f6f8fa;font-family:Menlo,monospace;font-size:inherit;}.css-1e94kr5 code{color:inherit;}.css-1e94kr5 .comment,.css-1e94kr5 .prolog,.css-1e94kr5 .doctype,.css-1e94kr5 .cdata{color:#999988;font-style:italic;}.css-1e94kr5 .namespace{opacity:0.7;}.css-1e94kr5 .string,.css-1e94kr5 .attr-value{color:#e3116c;}.css-1e94kr5 .punctuation,.css-1e94kr5 .operator{color:#393A34;}.css-1e94kr5 .entity,.css-1e94kr5 .url,.css-1e94kr5 .symbol,.css-1e94kr5 .number,.css-1e94kr5 .boolean,.css-1e94kr5 .variable,.css-1e94kr5 .constant,.css-1e94kr5 .property,.css-1e94kr5 .regex,.css-1e94kr5 .inserted{color:#36acaa;}.css-1e94kr5 .atrule,.css-1e94kr5 .keyword,.css-1e94kr5 .attr-name,.css-1e94kr5 .selector{color:#00a4db;}.css-1e94kr5 .function,.css-1e94kr5 .deleted,.css-1e94kr5 .tag{color:#d73a49;}.css-1e94kr5 .function-variable{color:#6f42c1;}.css-1e94kr5 .tag,.css-1e94kr5 .selector,.css-1e94kr5 .keyword{color:#00009f;}.css-1e94kr5 .highlight{background:hsla(0,0%,70%,.5);}</style><pre class="prism-code language-css-1q7q4hh css-1e94kr5"><div class="token-line"><span class="token plain">$ vagrant up</span></div></pre><p class="css-h0e33p">After starting the VM, SSH into the VM</p><pre class="prism-code language-css-1q7q4hh css-1e94kr5"><div class="token-line"><span class="token plain">$ vagrant ssh</span></div></pre><p class="css-h0e33p">Inside the VM, we can run AinD with Docker</p><pre class="prism-code language-css-1q7q4hh css-1e94kr5"><div class="token-line"><span class="token plain">$ sudo docker run \</span></div><div class="token-line"><span class="token plain">   --rm \</span></div><div class="token-line"><span class="token plain">   -td \</span></div><div class="token-line"><span class="token plain">   --name aind \</span></div><div class="token-line"><span class="token plain">   --privileged \</span></div><div class="token-line"><span class="token plain">   -p 5900:5900 \</span></div><div class="token-line"><span class="token plain">   -v /vagrant/apk.d/:/apk.d/ \</span></div><div class="token-line"><span class="token plain">   -v /lib/modules:/lib/modules:ro \</span></div><div class="token-line"><span class="token plain">    aind/aind:0.0.3</span></div></pre><p class="css-h0e33p">There is a lot going on it the previous command. If you’re interested, let’s go break down each line:</p><ol class="css-0"><li class="css-0"><code class="css-0">sudo docker run</code> execute the Docker run command as root</li><li class="css-0"><code class="css-0">--rm \</code> remove the container when it stops</li><li class="css-0"><code class="css-0">-td \</code> allocate a pseudo-TTY and run the container in the background</li><li class="css-0"><code class="css-0">--name aind \</code> name the container <code class="css-0">aind</code></li><li class="css-0"><code class="css-0">--privileged \</code> Give the extended privileges required by AinD to this container</li><li class="css-0"><code class="css-0">-p 5900:5900 \</code> publish port 5900 to the host to connect via VNC</li><li class="css-0"><code class="css-0">-v /vagrant/apk.d/:/apk.d/ \</code> mount the projects <code class="css-0">apk.d</code> folder to the container’s  <code class="css-0">apk.d</code> folder, so our APK will be loaded automatically </li><li class="css-0"><code class="css-0">-v /lib/modules:/lib/modules:ro \</code>Required by AinD</li><li class="css-0"><code class="css-0">aind/aind:0.0.3</code> AinD image to run (0.0.3 being the latest version at the time of writing and using <code class="css-0">latest</code> isn’t )</li></ol><p class="css-h0e33p">After starting the AinD container we should wait for the container to report ready.  Tail the container logs and look for <code class="css-0">Ready</code> (in ASCII art letters)</p><pre class="prism-code language-css-1q7q4hh css-1e94kr5"><div class="token-line"><span class="token plain">$ sudo docker logs -f aind</span></div></pre><p class="css-h0e33p">Now we have AinD running and our <code class="css-0">rotatingcube.apk</code> should be loaded.  Before we move onto running APK, let’s get the VNC password we’ll need for the next step</p><pre class="prism-code language-css-1q7q4hh css-1e94kr5"><div class="token-line"><span class="token plain">sudo docker exec aind cat /home/user/.vnc/passwdfile</span></div></pre><p class="css-h0e33p">Copy the VNC password output and let’s run the APK.</p><h2 id="run-unity-build-apk" class="css-10cps2a"><a href="#run-unity-build-apk" aria-label="Run Unity Build (APK)" class="css-1xo505e"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Run Unity Build (APK)</h2><p class="css-h0e33p">To run the  <code class="css-0">rotatingcube.apk</code>, ensure AinD is started and then</p><ol class="css-0"><li class="css-0">Open VNC Viewer</li><li class="css-0">Connect to address: <code class="css-0">127.0.0.1:5900</code> (ignore any unencrypted errors)</li><li class="css-0">Enter the password you copied from the last step of <a href="#start-aind" class="css-1qljzjn">Start AinD</a></li><li class="css-0">Connect</li><li class="css-0">When you connect to the server, the <code class="css-0">Anbox Application Manager</code> window should be open</li><li class="css-0">Double-click on <code class="css-0">RotatingCube</code></li><li class="css-0">RotatingCube should appear for approx. 2 seconds and then close</li></ol><p class="css-h0e33p"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:1380px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:80.28985507246377%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAADGElEQVQ4y3WTy08TURTGZ4ELJe6ML5LysO20nZkaNigvNTEKvkCjIG2x9D3Tmb5bfIFG0UQ0alz4J/gILty4IEhEBYJhQVxpFBMRDSEu1LWrz3PvtJQuXPzynXPPud89dx5CNKoiRhhxA4ZucE0aSagxFXpch6ZqiEaiXFkeCUWgxTTep6lxxMIReBJZHL80io4eDwSbzQqnLKHBKaKW4nrRDlGRIbpl2GjdSSoqEizWXbBKLlhdTr7u2K3wXFZcqNnfCaGjG0L1Rgii3Y7C1Wt4Mb+AZ1MzePZ6FmOkY69m8HTyDZ6/ncPzN3N4PPEaT14STCemKJ7CI9Kx8Uk00WRbzviwucEKoc5iwcj9B1j6C7xf/U38wcLKL8wv/8S7pVXMfvmB6c/LmCGmP30z40XGd8x9XcEcxY2nerHpRA+q68nQThOe7O7CpfMF5NJJTp5rArlUguJEOWdxhuqZFKeQy+AiYWneC2FPE6p2bIfgdDpxtOMQjEgAsUA/1CARKBP1exHu76Oar2KdEzyH+IAPtS3NENr3YcPOnRBcLgldRzuRjAWhhagh7EecaZGsHsVQIU31ADQ6LB4u1sJmr0GmlmYybGsrGbrQdawTicgAbfCZm0ImasCLifFxfPi4iLujt2jSXujMiHpYn0Y9Ok3Or9zWbhpKkowTRw4jEfWbhkUzrkEv7tx7iNzwfSRTBWgBz9phpV6DDuVXLk0oywqOc8PShCZxpmSQzxaQzg3BUFXTsFRbZ1jX2lI2VBQ3uvmVz9EGbwVsozrggTbQt2ZW0UM5M6xvay0bOukZMsNkxF88vX8dPuih8jOtrPv4GjdcP6HocKDz4AHE/GcR8p5B2GcS+g/hCnoQ9Zw2X0p78aXYbHZ4ek/j9sgVXB+6gJFhk+vDpfhiWa8UKdZuUHzz8iA9w+KVa2poQlGkP6Ub2WwGqVSSNItcLovBwUHk83mel8ik08hkMlTPmTmR0nVYWswrV23fBqGxsRGKosBms4F9k7Is85zBcgc9EkmSeJ3B/iy328372DAy1Wvpw9566iQ2WR34BxAUoCpieVicAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <style data-emotion-css="9whsf3">.css-9whsf3{max-width:100%;}</style><img class="gatsby-resp-image-image css-9whsf3" alt="Rotatingcube Running" title="Rotatingcube Running" src="/static/bfefdebf4b9d9481262fb51653df3168/b1001/rotatingcube-running.png" srcSet="/static/bfefdebf4b9d9481262fb51653df3168/e4d6b/rotatingcube-running.png 345w,/static/bfefdebf4b9d9481262fb51653df3168/1e043/rotatingcube-running.png 690w,/static/bfefdebf4b9d9481262fb51653df3168/b1001/rotatingcube-running.png 1380w,/static/bfefdebf4b9d9481262fb51653df3168/a6d66/rotatingcube-running.png 2070w,/static/bfefdebf4b9d9481262fb51653df3168/8201f/rotatingcube-running.png 2554w" sizes="(max-width: 1380px) 100vw, 1380px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-h0e33p">There you go. You ran a Unity Android build in Docker. </p><p class="css-h0e33p">To wrap up, we will shut the container and VM down and clean up the resources. That is unless you want to go on your own and try to run other APKs. For which you are on your own, though you have the comments to discuss.</p><h2 id="shutdown" class="css-10cps2a"><a href="#shutdown" aria-label="Shutdown" class="css-1xo505e"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Shutdown</h2><p class="css-h0e33p">In the VM, stop the AinD</p><pre class="prism-code language-css-1q7q4hh css-1e94kr5"><div class="token-line"><span class="token plain">$ sudo docker stop aind</span></div></pre><p class="css-h0e33p">On the host, shutdown the VM</p><pre class="prism-code language-css-1q7q4hh css-1e94kr5"><div class="token-line"><span class="token plain">$ vagrant halt</span></div></pre><h2 id="cleanup" class="css-10cps2a"><a href="#cleanup" aria-label="Cleanup" class="css-1xo505e"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cleanup</h2><p class="css-h0e33p">In the terminal on host, destroy the VM</p><pre class="prism-code language-css-1q7q4hh css-1e94kr5"><div class="token-line"><span class="token plain">$ vagrant destroy -f</span></div></pre><h2 id="conclusion" class="css-10cps2a"><a href="#conclusion" aria-label="Conclusion" class="css-1xo505e"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Conclusion</h2><p class="css-h0e33p">Now that you have run the example project’s Unity Android build in Docker, I’d recommend you check out <a href="https://github.com/aind-containers/aind" class="css-1qljzjn">GitHub - aind-containers/aind: AinD: Android in Docker. Ain’t an emulator.</a> to get guidance on how you can run the same build or another in the <strong class="css-0">cloud</strong>.</p></section><footer><div><hr class="css-0"/><style data-emotion-css="1xfq9zt">.css-1xfq9zt{-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;list-style:none;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;}</style><style data-emotion-css="12bcmkl">.css-12bcmkl{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;list-style:none;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;}</style><ul class="css-12bcmkl"><li><a rel="prev" class="css-1qljzjn" href="/command-line-cheat-sheet/">← <!-- -->Command Line Cheat Sheet</a></li><li><a rel="next" class="css-1qljzjn" href="/request-peer-feedback/">Request Peer Feedback<!-- --> →</a></li></ul><hr class="css-0"/></div><div><style data-emotion-css="gx0lhm">.css-gx0lhm{margin-bottom:0;}</style><style data-emotion-css="15wd6mo">.css-15wd6mo{color:var(--theme-ui-colors-text,#000);font-family:inherit;line-height:1.125;font-weight:700;font-size:24px;margin-bottom:0;}</style><h2 class="css-15wd6mo">Comments</h2><div class="comments"></div></div></footer></article></main><footer><hr class="css-0"/><style data-emotion-css="j6r63x">.css-j6r63x{margin-bottom:32px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><style data-emotion-css="u5xevn">.css-u5xevn{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:32px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-u5xevn"><style data-emotion-css="1emx3y6">.css-1emx3y6{margin-right:8px;margin-bottom:0;width:48px;min-width:48px;border-radius:99999px;}</style><div class="css-1emx3y6 gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:48px;height:48px"><img aria-hidden="true" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEz0lEQVQ4ywHEBDv7AOqzV9CJLKZnIoBLH3E/GmY5HnFDJJZoOqyJXI97YYp6YLqdcd+4e9+/h/Do1N3EmM+ueNCxgM+wf8+vfgDjt2bitmDfrk7bpD/DiDJ9Og6FSRtcOh88KBw2KycvLzBBRESEcFXRs4Lh0KjZwpLWvIzTuYjRs4LQrHYA4rZz6bp157Vu47Bn15pJyIY+jnBUmHBYq31plXBfdFlLSD44LCgek4h17+LM0LiO0beM1LmKuJdoxqh+AOWtYuyvWeiwYNmucNihXHlVMYtkUNuegtKeis2jl72alZyAfFREPE9GNsvCntG7jsqxh8qtgcywh+3ToADUq3vGrYvYnljTpXHSpnRZOxyWZlDJh2rSnIjJoJbBnpy7m5utlZFmW1KlrYPdw4zQr33MrHzSrXnvtWAA06h52rWEy5lg2sq01adzbD8XnWpOvYVom3JgoX90lHlxdGdojIKHaF9djH9guaN8vaJ4v6R6z6Vs5qpaAMaFSs+PVJaEbZablcCcd1w/JWREM15DMiIdGkIzLEk9ODEzNFFRVlJMTHNlWnt4a5GKeoJ7b56DX9yVPwCjnXOtj1uhbDadoaGqtbhoST1vRS+XaEqEXESha1eigYR2ZGWJdnuOfoCGdXFsa16ckHmDemaTdk/clDwAn7q5j8m/rpd8xc3YvM7apGI7sW9QqXRlomlVkVQ/g2JliGdpknV7mYSJl4qKjpCFs6SGnpN5qo1k15BBAKSutZOZiZWtoMXa4bqvprdrKrt3TY5bP5ZeQ5FYQWNJSn9ma21WUYl5er25sZynqLSrlqqijruhf8qJRgCdeVCmhFamm3vPvaulwMu+gT6xbTmQXzaJVzR6QjNpQ0ZzXl9uX12HdGqwmXOMgW2fjHCUhXClimu+hlAAZFYpi4FkrI55k2xMQVRhl1sZ1J1rZUMwlmM/snZclnBtg3V0TkhIj2pEwYM3vYE8oWozgUsjn2Asunw9AHh6a4qnu493cCQbEw0OEhcSDYBbOWVBLy8fFG1PPG1ZUTAwLEpCP8e7ptbMsdLHrrebf19MP3taPrh4QQCVclOjpaqPdWkfFg0NEBQRExYQFRqNVDNEJBgSDAwZFA9CNjV6ZGdgXlqkpprOw665kYBXQkNgTj65i2YAkGlGkHtrnm9JPyYVFRgbGhobLSMesHBGp2NAXDgqb1hXgmxyjHR3MS0wBwsQPzs3jWZUh2lqclZLqnlVAJJ9b6CCco5wYjgmGxIVFwgMEEw3KsZ9SbNxTYVZSHZcXIt2e4ZxdC8vMwgLDgYKECAhIz42N0AYHmwwKQCVjpCEgopOVmAUFRYQEhYSEhQMEBRQNSKRWTqSbmNxXFZkVVgtKC0IDBEOEBUPEhYNEhYNEhguICVNKC4AQz5BJiUnExQYEhQXExQYFBUXDxEVCg4TGRUWKiQkIR8iDRAUCQ0SDhIWDQ8UDRAVERQXEBMXDBIXGBsgAB0eIBYZHhUXGxITFhIUFxITFw8RFRQUFw0OEQcJDQYJDAgKDQwOEgwRFQwQFA0QFAsNEA0RFBERFhESFgATFBcTFBcTFRgREhUXGBsVFxsNDhIMDRAfISQhJCgoKzE2OkEdIScLDhIMDxMODxIiJisRFBcNDhAQERSpF+JMq5NL2wAAAABJRU5ErkJggg==" alt="Josh Aaseby" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/984ae5788e11aa7339eee429c839a261/aff39/avatar.png 1x,
/static/984ae5788e11aa7339eee429c839a261/e5b88/avatar.png 1.5x,
/static/984ae5788e11aa7339eee429c839a261/88b72/avatar.png 2x" /><img loading="lazy" width="48" height="48" srcset="/static/984ae5788e11aa7339eee429c839a261/aff39/avatar.png 1x,
/static/984ae5788e11aa7339eee429c839a261/e5b88/avatar.png 1.5x,
/static/984ae5788e11aa7339eee429c839a261/88b72/avatar.png 2x" src="/static/984ae5788e11aa7339eee429c839a261/aff39/avatar.png" alt="Josh Aaseby" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="css-0">Josh Aaseby<br/>Software Engineer</div></div></footer></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>window.goatcounter={no_onload:true,};</script><script async="" data-goatcounter="https://ozbe.goatcounter.com/count" src="https://gc.zgo.at/count.js"></script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/run-unity-android-build-on-android-in-docker/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-eb0d07966faded618939.js"],"app":["/app-01f6ee536d0106556fae.js"],"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js":["/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-54da6afa203fb26fe3d9.js"],"component---node-modules-gatsby-theme-blog-core-src-templates-posts-query-js":["/component---node-modules-gatsby-theme-blog-core-src-templates-posts-query-js-3894b0dcdef7cc533e5e.js"]};/*]]>*/</script><script src="/polyfill-eb0d07966faded618939.js" nomodule=""></script><script src="/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-54da6afa203fb26fe3d9.js" async=""></script><script src="/commons-380a30ce5f5e42c12471.js" async=""></script><script src="/app-01f6ee536d0106556fae.js" async=""></script><script src="/framework-3e6dec6139dadaa7d0c7.js" async=""></script><script src="/styles-9411612e31e4f14527d1.js" async=""></script><script src="/webpack-runtime-25d235bc2401c325ecef.js" async=""></script></body></html>